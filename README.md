# Fastify API —Å Sequelize –∏ Redis

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π API –Ω–∞ **Fastify** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL** (—á–µ—Ä–µ–∑ **Sequelize ORM**), –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ **Redis** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ **log4js**. –í–∫–ª—é—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ –ø–æ–∫—É–ø–∫–∞–º–∏.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- üü¢ **Node.js / TypeScript** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ö° **Fastify** ‚Äî –±—ã—Å—Ç—Ä—ã–π –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- üóÑ **Sequelize (sequelize-typescript)** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- üî• **Redis** ‚Äî –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- üìú **log4js** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```sh
npm install
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è _(–ù–ï–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û, –£–ñ–ï –ü–†–û–ö–ò–ù–£–¢–û)_
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:
```env
SKINPORT_API_URL=https://api.skinport.com/v1/items
REDIS_HOST=localhost
FASTIFY_SECRET=your_secret_key
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL –∏ Redis
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **PostgreSQL** –∏ **Redis** —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ.

### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```sh
npm run dev
```
–°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–∞ **`http://localhost:3000`**

---

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
### üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
#### ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
`POST /register`
```json
{
  "name": "user1",
  "password": "password123"
}
```

#### üîì –í—Ö–æ–¥
`POST /login`
```json
{
  "name": "user1",
  "password": "password123"
}
```

### üõí –ü—Ä–æ–¥—É–∫—Ç—ã
#### üìú –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ _(—Å –∫–µ—à–µ–º –≤ Redis)_
`GET /items`

#### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
`POST /items`
```json
{
  "market_hash_name": "AK-47 Redline",
  "min_tradable_price": 12.5,
  "min_no_tradable_price": 10.0
}
```

### üí∞ –ü–æ–∫—É–ø–∫–∏
#### üõç –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞
`POST /purchase`
```json
{
  "productId": 1
}
```

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
üìÇ **–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
- `models/` ‚Äì ORM –º–æ–¥–µ–ª–∏ (**User**, **Product**, **Purchases**)
- `controllers/` ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ API-–∑–∞–ø—Ä–æ—Å–æ–≤ (**UsersController**, **ProductsController**, **PurchaseController**)
- `services/` ‚Äì –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (**Redis**, **LoggerService**, **Sequelize**)
- `app.ts` ‚Äì —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è **Fastify**


